{"ast":null,"code":"import { createStore } from 'redux';\nimport Api from '../utils/api';\nconst initState = {\n  goodslist: {\n    id: null,\n    productName: '',\n    price: {}\n  }\n};\n\nconst reducer = function (state = initState, action) {\n  switch (action.type) {\n    //添加商品\n    case 'add_to_goods':\n      console.log(action.goods);\n      let formdata = new FormData();\n      let prices = JSON.stringify(action.goods.price);\n      formdata.append(\"price\", prices);\n      formdata.append(\"productSysNo\", action.goods.id);\n      formdata.append(\"productName\", action.goods.productName);\n      Api.addGoods(formdata).then(res => {\n        console.log(res);\n      });\n      return {\n        goodslist: { ...state.goodslist,\n          ...action.goods\n        }\n      };\n\n    default:\n      return state;\n  } // return state\n\n};\n\nconst store = createStore(reducer);\nexport default store;","map":{"version":3,"sources":["E:/xhl/0.1012/cangku/backend/benlai/src/redux/index.js"],"names":["createStore","Api","initState","goodslist","id","productName","price","reducer","state","action","type","console","log","goods","formdata","FormData","prices","JSON","stringify","append","addGoods","then","res","store"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,MAAMC,SAAS,GAAG;AACdC,EAAAA,SAAS,EAAE;AAAEC,IAAAA,EAAE,EAAE,IAAN;AAAYC,IAAAA,WAAW,EAAE,EAAzB;AAA6BC,IAAAA,KAAK,EAAE;AAApC;AADG,CAAlB;;AAIA,MAAMC,OAAO,GAAG,UAAUC,KAAK,GAAGN,SAAlB,EAA6BO,MAA7B,EAAqC;AACjD,UAAQA,MAAM,CAACC,IAAf;AACI;AACA,SAAK,cAAL;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,KAAnB;AACA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,UAAIC,MAAM,GAAGC,IAAI,CAACC,SAAL,CAAeT,MAAM,CAACI,KAAP,CAAaP,KAA5B,CAAb;AACAQ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,OAAhB,EAAyBH,MAAzB;AACAF,MAAAA,QAAQ,CAACK,MAAT,CAAgB,cAAhB,EAAgCV,MAAM,CAACI,KAAP,CAAaT,EAA7C;AACAU,MAAAA,QAAQ,CAACK,MAAT,CAAgB,aAAhB,EAA+BV,MAAM,CAACI,KAAP,CAAaR,WAA5C;AACAJ,MAAAA,GAAG,CAACmB,QAAJ,CACIN,QADJ,EAEEO,IAFF,CAEOC,GAAG,IAAI;AACVX,QAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AAEH,OALD;AAMA,aAAO;AACHnB,QAAAA,SAAS,EAAE,EACP,GAAGK,KAAK,CAACL,SADF;AAEP,aAAGM,MAAM,CAACI;AAFH;AADR,OAAP;;AAMJ;AACI,aAAOL,KAAP;AAtBR,GADiD,CA0BjD;;AACH,CA3BD;;AA8BA,MAAMe,KAAK,GAAGvB,WAAW,CAACO,OAAD,CAAzB;AAGA,eAAegB,KAAf","sourcesContent":["import { createStore } from 'redux'\r\nimport Api from '../utils/api'\r\nconst initState = {\r\n    goodslist: { id: null, productName: '', price: {} }\r\n}\r\n\r\nconst reducer = function (state = initState, action) {\r\n    switch (action.type) {\r\n        //添加商品\r\n        case 'add_to_goods':\r\n            console.log(action.goods);\r\n            let formdata = new FormData()\r\n            let prices = JSON.stringify(action.goods.price)\r\n            formdata.append(\"price\", prices)\r\n            formdata.append(\"productSysNo\", action.goods.id)\r\n            formdata.append(\"productName\", action.goods.productName)\r\n            Api.addGoods(\r\n                formdata\r\n            ).then(res => {\r\n                console.log(res);\r\n\r\n            })\r\n            return {\r\n                goodslist: {\r\n                    ...state.goodslist,\r\n                    ...action.goods\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n    // return state\r\n}\r\n\r\n\r\nconst store = createStore(reducer)\r\n\r\n\r\nexport default store"]},"metadata":{},"sourceType":"module"}